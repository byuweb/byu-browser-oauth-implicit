{"version":3,"file":"implicit-grant.nomodule.min.js","sources":["../src/log.js","../node_modules/cookie/index.js","../src/local-storage.js","../src/provider.js","../src/implicit-grant.js","../node_modules/@byuweb/browser-oauth/constants.js","../node_modules/local-storage-fallback/lib/CookieStorage.js","../node_modules/local-storage-fallback/lib/isSupported.js","../node_modules/local-storage-fallback/lib/MemoryStorage.js","../node_modules/local-storage-fallback/lib/index.js","../node_modules/js-sha256/src/sha256.js"],"sourcesContent":["const LEVEL_TRACE = { priority: 0, name: \"trace\", run: handleTrace };\nconst LEVEL_DEBUG = { priority: 1, name: \"debug\", run: handleDebug };\nconst LEVEL_INFO = { priority: 10, name: \"info\", run: handleInfo };\nconst LEVEL_ERROR = { priority: 100, name: \"error\", run: handleError };\n\nconst ALL_LEVELS = [LEVEL_TRACE, LEVEL_DEBUG, LEVEL_INFO, LEVEL_ERROR];\nconst DEFAULT_LEVEL = LEVEL_ERROR;\n\nexport function debug(...args) {\n  log(LEVEL_DEBUG, ...args);\n}\n\nexport function info(...args) {\n  log(LEVEL_INFO, ...args);\n}\n\nexport function error(...args) {\n  log(LEVEL_ERROR, ...args);\n}\n\nexport function debugf(format, ...args) {\n  logf(LEVEL_DEBUG, format, ...args);\n}\n\nexport function infof(format, ...args) {\n  logf(LEVEL_INFO, format, ...args);\n}\n\nexport function errorf(format, ...args) {\n  logf(LEVEL_ERROR, format, ...args);\n}\n\nfunction logf(level, format, ...args) {\n  if (!shouldLog(level)) {\n    return;\n  }\n  level.run(\n    `[byu-browser-oauth-implicit] [${level.name}] (${getFormattedTime()}) ${format}`,\n    ...args\n  );\n}\n\nfunction log(level, ...args) {\n  if (!shouldLog(level)) {\n    return;\n  }\n  level.run(\n    \"[byu-browser-oauth-implicit]\",\n    `[${level.name}]`,\n    `(${getFormattedTime()})`,\n    ...args\n  );\n}\n\nfunction getFormattedTime() {\n  const now = new Date();\n  const h24 = String(now.getHours()).padStart(2, '0');\n  const min = String(now.getMinutes()).padStart(2, '0');\n  const sec = String(now.getSeconds()).padStart(2, '0');\n  const millis = String(now.getMilliseconds()).padStart(3, '0');\n\n  return `${h24}:${min}:${sec},${millis}${formatTimezone(now)}`;\n}\n\nfunction formatTimezone(date) {\n  const offset = date.getTimezoneOffset();\n  if (offset === 0) {\n    return 'Z';\n  }\n  const nonNegative = offset >= 0;\n  const absOffset = Math.abs(offset);\n\n  // Positive whole offset hours\n  const hourInt = Math.floor(absOffset / 60);\n  const hourDone = String(hourInt).padStart(2, '0')\n  const sign = (nonNegative ? '+' : '-');\n  const minDone = String(absOffset % 60).padStart(2, '0');\n\n  return `${sign}${hourDone}${minDone}`;\n}\n\nfunction shouldLog(level) {\n  return level.priority >= currentLevel().priority;\n}\n\nfunction currentLevel() {\n  const name = levelAttr() || levelGlobalVar();\n  if (!name) {\n    return DEFAULT_LEVEL;\n  }\n  const lower = name.toLowerCase();\n  return (\n    ALL_LEVELS.find(function(l) {\n      return l.name === lower;\n    }) || DEFAULT_LEVEL\n  );\n}\n\nfunction levelAttr() {\n  return document.documentElement.getAttribute(\"byu-oauth-logging\");\n}\n\nfunction levelGlobalVar() {\n  const o = window.byuOAuth || {};\n  return o.logging;\n}\n\nfunction handleTrace(...args) {\n  if (console.trace) {\n    console.trace(...args);\n  } else {\n    console.log(...args);\n  }\n}\n\nfunction handleDebug(...args) {\n  console.log(...args);\n}\n\nfunction handleInfo(...args) {\n  if (console.info) {\n    console.info(...args);\n  } else {\n    console.log(...args);\n  }\n}\n\nfunction handleError(...args) {\n  if (console.error) {\n    console.error(...args);\n  } else {\n    console.log(...args);\n  }\n}\n","/*!\n * cookie\n * Copyright(c) 2012-2014 Roman Shtylman\n * Copyright(c) 2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict';\n\n/**\n * Module exports.\n * @public\n */\n\nexports.parse = parse;\nexports.serialize = serialize;\n\n/**\n * Module variables.\n * @private\n */\n\nvar decode = decodeURIComponent;\nvar encode = encodeURIComponent;\nvar pairSplitRegExp = /; */;\n\n/**\n * RegExp to match field-content in RFC 7230 sec 3.2\n *\n * field-content = field-vchar [ 1*( SP / HTAB ) field-vchar ]\n * field-vchar   = VCHAR / obs-text\n * obs-text      = %x80-FF\n */\n\nvar fieldContentRegExp = /^[\\u0009\\u0020-\\u007e\\u0080-\\u00ff]+$/;\n\n/**\n * Parse a cookie header.\n *\n * Parse the given cookie header string into an object\n * The object has the various cookies as keys(names) => values\n *\n * @param {string} str\n * @param {object} [options]\n * @return {object}\n * @public\n */\n\nfunction parse(str, options) {\n  if (typeof str !== 'string') {\n    throw new TypeError('argument str must be a string');\n  }\n\n  var obj = {}\n  var opt = options || {};\n  var pairs = str.split(pairSplitRegExp);\n  var dec = opt.decode || decode;\n\n  for (var i = 0; i < pairs.length; i++) {\n    var pair = pairs[i];\n    var eq_idx = pair.indexOf('=');\n\n    // skip things that don't look like key=value\n    if (eq_idx < 0) {\n      continue;\n    }\n\n    var key = pair.substr(0, eq_idx).trim()\n    var val = pair.substr(++eq_idx, pair.length).trim();\n\n    // quoted values\n    if ('\"' == val[0]) {\n      val = val.slice(1, -1);\n    }\n\n    // only assign once\n    if (undefined == obj[key]) {\n      obj[key] = tryDecode(val, dec);\n    }\n  }\n\n  return obj;\n}\n\n/**\n * Serialize data into a cookie header.\n *\n * Serialize the a name value pair into a cookie string suitable for\n * http headers. An optional options object specified cookie parameters.\n *\n * serialize('foo', 'bar', { httpOnly: true })\n *   => \"foo=bar; httpOnly\"\n *\n * @param {string} name\n * @param {string} val\n * @param {object} [options]\n * @return {string}\n * @public\n */\n\nfunction serialize(name, val, options) {\n  var opt = options || {};\n  var enc = opt.encode || encode;\n\n  if (typeof enc !== 'function') {\n    throw new TypeError('option encode is invalid');\n  }\n\n  if (!fieldContentRegExp.test(name)) {\n    throw new TypeError('argument name is invalid');\n  }\n\n  var value = enc(val);\n\n  if (value && !fieldContentRegExp.test(value)) {\n    throw new TypeError('argument val is invalid');\n  }\n\n  var str = name + '=' + value;\n\n  if (null != opt.maxAge) {\n    var maxAge = opt.maxAge - 0;\n    if (isNaN(maxAge)) throw new Error('maxAge should be a Number');\n    str += '; Max-Age=' + Math.floor(maxAge);\n  }\n\n  if (opt.domain) {\n    if (!fieldContentRegExp.test(opt.domain)) {\n      throw new TypeError('option domain is invalid');\n    }\n\n    str += '; Domain=' + opt.domain;\n  }\n\n  if (opt.path) {\n    if (!fieldContentRegExp.test(opt.path)) {\n      throw new TypeError('option path is invalid');\n    }\n\n    str += '; Path=' + opt.path;\n  }\n\n  if (opt.expires) {\n    if (typeof opt.expires.toUTCString !== 'function') {\n      throw new TypeError('option expires is invalid');\n    }\n\n    str += '; Expires=' + opt.expires.toUTCString();\n  }\n\n  if (opt.httpOnly) {\n    str += '; HttpOnly';\n  }\n\n  if (opt.secure) {\n    str += '; Secure';\n  }\n\n  if (opt.sameSite) {\n    var sameSite = typeof opt.sameSite === 'string'\n      ? opt.sameSite.toLowerCase() : opt.sameSite;\n\n    switch (sameSite) {\n      case true:\n        str += '; SameSite=Strict';\n        break;\n      case 'lax':\n        str += '; SameSite=Lax';\n        break;\n      case 'strict':\n        str += '; SameSite=Strict';\n        break;\n      default:\n        throw new TypeError('option sameSite is invalid');\n    }\n  }\n\n  return str;\n}\n\n/**\n * Try decoding a string using a decoding function.\n *\n * @param {string} str\n * @param {function} decode\n * @private\n */\n\nfunction tryDecode(str, decode) {\n  try {\n    return decode(str);\n  } catch (e) {\n    return str;\n  }\n}\n","/*\n *  @license\n *    Copyright 2018 Brigham Young University\n *\n *    Licensed under the Apache License, Version 2.0 (the \"License\");\n *    you may not use this file except in compliance with the License.\n *    You may obtain a copy of the License at\n *\n *        http://www.apache.org/licenses/LICENSE-2.0\n *\n *    Unless required by applicable law or agreed to in writing, software\n *    distributed under the License is distributed on an \"AS IS\" BASIS,\n *    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *    See the License for the specific language governing permissions and\n *    limitations under the License.\n */\n\n\"use strict\";\n\nimport storage from 'local-storage-fallback';\n// During initial page load, Firefox \"LocalStorage\" is wonky if in Private Browsing.\n// Fortunately, the \"OAuth State\" data is tiny (one date and one 16-character string),\n// so it won't hit any Cookie size limitations.\n// With those factors in mind, we intentionally downgrade to Cookie storage for initial OAuth data storage\nimport { CookieStorage } from 'local-storage-fallback';\n\nconst cookie = new CookieStorage();\n\nexport class StorageHandler {\n\n  saveOAuthState(clientId, state) {\n    cookie.setItem(getKey(clientId), JSON.stringify(state));\n  }\n\n  getOAuthState(clientId) {\n    const result = cookie.getItem(getKey(clientId));\n    if (!result) {\n      return null;\n    }\n    return JSON.parse(result);\n  }\n\n  clearOAuthState(clientId) {\n    cookie.removeItem(getKey(clientId));\n  }\n\n  saveSessionState(clientId, state) {\n    storage.setItem(getSessionKey(clientId), JSON.stringify(state));\n  }\n\n  getSessionState(clientId) {\n    const key = getSessionKey(clientId);\n    const stored = storage.getItem(key);\n    if (!stored) {\n      return null;\n    }\n    return JSON.parse(stored);\n  }\n\n  clearSessionState(clientId) {\n    storage.removeItem(getSessionKey(clientId));\n  }\n}\n\nfunction getKey(clientId) {\n  return 'oauth-state-' + encodeURIComponent(clientId);\n}\n\nfunction getSessionKey(clientId) {\n  return getKey(clientId) + '-active-session';\n}\n\n","/*\n *  @license\n *    Copyright 2018 Brigham Young University\n *\n *    Licensed under the Apache License, Version 2.0 (the \"License\");\n *    you may not use this file except in compliance with the License.\n *    You may obtain a copy of the License at\n *\n *        http://www.apache.org/licenses/LICENSE-2.0\n *\n *    Unless required by applicable law or agreed to in writing, software\n *    distributed under the License is distributed on an \"AS IS\" BASIS,\n *    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *    See the License for the specific language governing permissions and\n *    limitations under the License.\n */\n\"use strict\";\n\nimport * as log from './log.js';\nimport * as authn from '@byuweb/browser-oauth/constants.js';\nimport {StorageHandler} from \"./local-storage.js\";\n// NOTE: not using browser `crypto` module, because `crypto.subtle` isn't available when the browser isn't in HTTPS,\n// and our development environments usually use plain HTTP. We're only doing a single one-way hash, so performance\n// isn't a big deal\nimport sha256Lib from 'js-sha256'\nconst sha256 = sha256Lib.sha256\n\nlet SINGLETON_INSTANCE;\nlet BASE_URL;\n\nconst CHILD_IFRAME_ID = 'byu-oauth-implicit-grant-refresh-iframe'\nconst STORED_STATE_LIFETIME = 5 * 60 * 1000; // 5 minutes (in milliseconds)\nconst EXPIRATION_BUFFER = (5 * 60) + 5; // 5 minutes + 5 seconds (in seconds)\nexport const IG_STATE_AUTO_REFRESH_FAILED = 'implicit-grant-auto-refresh-failed'\n\nexport class ImplicitGrantProvider {\n  constructor(config, window, document, storageHandler = new StorageHandler()) {\n    log.debug('initializing provider with config', config);\n    this.config = config;\n    this.window = window;\n    this.document = document;\n    this.storageHandler = storageHandler;\n    this._listeners = {};\n\n    BASE_URL = this.config.baseUrl.replace(/\\/+$/, '') // strip trailing slash(es)\n\n    this.store = Object.freeze({\n      state: authn.STATE_INDETERMINATE,\n      user: null,\n      token: null,\n      error: null\n    });\n    log.debug('initialized provider');\n  }\n\n  _changeState(state, user, token, error) {\n    logStateChange(state, user, token, error);\n    this.store = Object.freeze({\n      state, user, token, error\n    });\n    _dispatchEvent(this, authn.EVENT_STATE_CHANGE, this.store);\n  }\n\n  _checkPopupOpener() {\n    try {\n      const origin = this.window.opener.location.origin\n      if (origin === (new URL(this.config.callbackUrl)).origin) { // Origins match\n        return this.window.opener\n      }\n    } catch (e) {\n      // Failed to get window.opener.location.origin, so we must have been opened\n      // from a different origin.\n      // Fall through to the \"return false\" outside this try/catch block\n    }\n    return false\n  }\n\n  _checkIframeOpener() {\n    try {\n      const iframe = this.window.parent.document.getElementById(CHILD_IFRAME_ID)\n      if (iframe && iframe.contentWindow === this.window) {\n        return iframe\n      }\n    } catch (e) {\n      // Failed to access window.parent info, so we must be in an iframe from a different\n      // origin.\n      // Fall through to the \"return false\" outside this try/catch block\n    }\n    return false\n  }\n\n  // Separate state change listener, because state change events\n  // might come from child iframe/popup window\n  handleStateChange({ state, user, token, source }) {\n    log.debug('in handleStateChange', state);\n\n    const opener = this._checkPopupOpener()\n    // If this is a popup\n    if (opener) {\n      // We're inside a child re-authentication popup\n\n      if (source) {\n        // event was triggered by a child, so ignore since we're inside a child\n        return\n      }\n\n      log.debug('dispatching event to parent');\n      // Pass event along to parent\n      _dispatchEvent(opener, authn.EVENT_STATE_CHANGE, { state, token, user, source: 'popup' })\n\n      if (state === authn.STATE_AUTHENTICATED) {\n        // delete self now that authentication is complete\n        log.info('closing self');\n        this.window.close()\n      }\n\n      return\n    }\n\n    const iframe = this._checkIframeOpener()\n    // If we're inside a \"refresh\" iframe\n    if (iframe) {\n      if (source) {\n        // event was triggered by a child, so ignore since we're inside a child\n        return\n      }\n\n      log.debug('dispatching event to parent');\n      // Pass event along to parent\n      _dispatchEvent(this.window.parent, authn.EVENT_STATE_CHANGE, { state, token, user, source: 'iframe' })\n\n      if (state === authn.STATE_AUTHENTICATED) {\n        // delete self now that authentication is complete\n        log.info('removing child iframe');\n        iframe.parentNode.removeChild(iframe)\n      }\n\n      return\n    }\n\n    this._maybeUpdateStoredSession(state, user, token);\n\n    if (state === authn.STATE_AUTHENTICATED) {\n      this._checkExpired(token.expiresAt.getTime())\n    }\n  }\n\n  async startup() {\n    ensureOnlyInstance(this);\n    log.info('starting up');\n    this.listen();\n    this._changeState(authn.STATE_INDETERMINATE);\n\n    const location = this._location;\n\n    if (this.isAuthenticationCallback(location)) {\n      log.debug('handling authentication callback');\n      this._changeState(authn.STATE_AUTHENTICATING);\n      try {\n        const {state, user, token, error} = await _handleAuthenticationCallback(\n          this.config,\n          location,\n          this.storageHandler\n        );\n        this._changeState(state, user, token, error);\n      } catch (err) {\n        log.error('OAuth Error', err);\n        this._changeState(authn.STATE_ERROR, undefined, undefined, err);\n      }\n    } else if (this.hasStoredSession()) {\n      log.debug('Has stored session');\n      this._updateStateFromStorage();\n    } else {\n      log.debug('no authentication present');\n      this._changeState(authn.STATE_UNAUTHENTICATED);\n    }\n    return this;\n  }\n\n  _checkExpired(expirationTimeInMs) {\n    const expiresInMs = expirationTimeInMs - Date.now()\n\n    log.debug(`checking expiration time; expires in ${expiresInMs} ms, ${new Date(expirationTimeInMs)}`);\n\n    if (expiresInMs > (30 * 1000)) { // 30 second buffer before token actually expires\n      if (this.__expirationTask) {\n        clearTimeout(this.__expirationTask);\n      }\n      // Simply using setTimeout for an hour in the future\n      // doesn't work; setTimeout isn't that precise over that long of a period.\n      // So re-check every five seconds until we're past the expiration time\n      this.__expirationTask = setTimeout(() =>  {\n        this.__expirationTask = null;\n        this._checkExpired(expirationTimeInMs);\n      }, 5000);\n\n      return;\n    }\n\n    if (this.config.autoRefreshOnTimeout) {\n      this.startRefresh('iframe');\n    } else {\n      // We don't have auto-refresh enabled, so flag the token as expired and let the application handle it.\n      this._changeState(authn.STATE_EXPIRED, this.store.user, this.store.token);\n    }\n  }\n\n  get _location() {\n    return this.window.location;\n  }\n\n  isAuthenticationCallback(location) {\n    const isCallbackUrl = location.href.indexOf(this.config.callbackUrl) === 0;\n    const hasCode = location.search && location.search.includes('code=') && location.search.includes('state=')\n\n    return !!(isCallbackUrl && hasCode)\n  }\n\n  hasStoredSession() {\n    return !!this.storageHandler.getSessionState(this.config.clientId);\n  }\n\n  shutdown() {\n    log.info('shutting down');\n    this.unlisten();\n    this._changeState(authn.STATE_INDETERMINATE);\n    cleanupOnlyInstance(this);\n  }\n\n  listen() {\n    log.debug('setting up event listeners');\n    _listenTo(this, authn.EVENT_LOGIN_REQUESTED, this.startLogin);\n    _listenTo(this, authn.EVENT_LOGOUT_REQUESTED, this.startLogout);\n    _listenTo(this, authn.EVENT_REFRESH_REQUESTED, this.startRefresh);\n    _listenTo(this, authn.EVENT_CURRENT_INFO_REQUESTED, this.handleCurrentInfoRequest);\n    _listenTo(this, authn.EVENT_STATE_CHANGE, this.handleStateChange);\n  }\n\n  unlisten() {\n    log.debug('tearing down event listeners');\n    _unlistenTo(this, authn.EVENT_LOGIN_REQUESTED);\n    _unlistenTo(this, authn.EVENT_LOGOUT_REQUESTED);\n    _unlistenTo(this, authn.EVENT_REFRESH_REQUESTED);\n    _unlistenTo(this, authn.EVENT_CURRENT_INFO_REQUESTED);\n    _unlistenTo(this, authn.EVENT_STATE_CHANGE);\n  }\n\n  startLogin(displayType = 'window') {\n    log.infof('Starting login. mode=%s', displayType);\n    const {clientId, callbackUrl} = this.config;\n    const csrf = randomString();\n    const codeVerifier = randomString(128);\n    // challenge is base64-encoded SHA256 hash of codeVerifier\n    const codeChallenge = btoa(String.fromCharCode(...sha256.array(codeVerifier)))\n      .replace(/\\+/g, '-')\n      .replace(/\\//g, '_')\n      .replace(/=/g, '')\n\n    const storedState = _prepareStoredState(Date.now() + STORED_STATE_LIFETIME, csrf, codeVerifier, {});\n    this.storageHandler.saveOAuthState(this.config.clientId, storedState);\n\n    const loginUrl = `${BASE_URL}/authorize?response_type=code&client_id=${clientId}&redirect_uri=${encodeURIComponent(callbackUrl)}&scope=openid&state=${csrf}&code_challenge=${codeChallenge}&code_challenge_method=S256`;\n    log.debug('computed login url of', loginUrl);\n\n    if (!displayType || displayType == 'window') {\n      log.info(`Redirecting user to '${loginUrl}'`);\n      this.window.location = loginUrl;\n      return\n    } else if (displayType === 'popup') {\n      log.info('launching popup at', loginUrl);\n      this.window.open(loginUrl)\n      return\n    }\n\n    log.info('Setting up hidden refresh iframe at', loginUrl);\n    // last option: displayType == 'iframe'\n    let iframe = this.document.getElementById(CHILD_IFRAME_ID)\n    if (iframe) {\n      iframe.parentNode.removeChild(iframe)\n    }\n    iframe = this.document.createElement('iframe')\n    iframe.onload = () => {\n      let html = null\n      try {\n        html = iframe.contentWindow.document.body.innerHTML\n      } catch (err) {\n        // intentional do-nothing\n      }\n      if (html === null) {\n        // Hidden-frame refresh failed. Remove frame and\n        // report problem\n        iframe.parentNode.removeChild(iframe)\n        this._changeState(IG_STATE_AUTO_REFRESH_FAILED, null, null)\n        this._changeState(authn.STATE_UNAUTHENTICATED, null, null)\n      }\n    }\n    iframe.id = CHILD_IFRAME_ID\n    iframe.src = loginUrl\n    iframe.style = 'display:none'\n    log.debug('appending iframe', iframe);\n    this.document.body.appendChild(iframe);\n  }\n\n  startLogout() {\n    log.info('starting logout');\n    this.storageHandler.clearSessionState(this.config.clientId);\n    // Need to ensure BOTH api.byu.edu and cas.byu.edu clean out their sessions\n    // With current config of those two sites, to have that full clean out AND a final \"where to go after logout\"\n    // redirect, we need to manually wrap them all together\n    const logoutRedirect = (this.config.logoutRedirect === undefined) ? this.config.callbackUrl : this.config.logoutRedirect\n    const casLogoutUrl = 'https://cas.byu.edu/cas/logout?service=' + encodeURIComponent(logoutRedirect)\n    const logoutUrl = `${BASE_URL}/logout?redirect_url=` + encodeURIComponent(casLogoutUrl);\n    log.info('logging out by redirecting to', logoutUrl);\n    this.window.location = logoutUrl;\n\n    //TODO: WSO2 Identity Server 5.1 allows us to revoke implicit tokens.  Once that's done, we'll need to do this.\n    // const url = `https://api.byu.edu/revoke`;\n\n    // const form = new URLSearchParams();\n    // form.set('token', store.token.bearer);\n    // form.set('client_id', config.clientId);\n    // form.set('token_type_hint', 'access_token');\n\n    // console.log('logout url', url);\n\n    // fetch(url, {\n    //     method: 'POST',\n    //     body: form,\n    //     // headers: {\n    //     //     'Content-Type': 'application/x-www-form-urlencoded'\n    //     // }\n    // }).then(result => {\n    //     console.log('done with logout', result);\n    // });\n  }\n\n  async startRefresh(displayType = 'iframe') {\n    log.infof('starting refresh. displayType=%s', displayType);\n\n    // Save copy of current info before triggering changeState\n    const token = Object.assign({}, this.store.token)\n    const user = Object.assign({}, this.store.user)\n\n    // Also pass yet another isolated copy to changeState\n    this._changeState(authn.STATE_REFRESHING, Object.assign({}, this.store.user), Object.assign({}, this.store.token));\n\n    if (displayType !== 'iframe') {\n      this.startLogin(displayType);\n      return;\n    }\n\n    // If we have a refresh token, then try that before doing the more complicated iframe version\n    if (!(token && token.refresh)) {\n      this.startLogin('iframe');\n      return;\n    }\n\n    const tokenUrl = `${BASE_URL}/token`;\n    const body = new URLSearchParams();\n    body.set('grant_type', 'refresh_token');\n    body.set('client_id', this.config.clientId);\n    body.set('refresh_token', token.refresh)\n\n    const resp = await fetch(tokenUrl, {\n      method: 'POST',\n      headers: new Headers({ 'Accept': 'application/json', 'Content-Type': 'application/x-www-form-urlencoded' }),\n      body\n    });\n\n    if (resp.status !== 200) {\n      this.startLogin('iframe');\n      return;\n    }\n\n    const tokenInfo = await resp.json();\n    token.bearer = tokenInfo.access_token;\n    token.refresh = tokenInfo.refresh_token;\n    const expiresIn = tokenInfo.expires_in - EXPIRATION_BUFFER;\n    token.authorizationHeader = `Bearer ${token.bearer}`;\n    token.expiresAt = new Date(Date.now() + (expiresIn * 1000));\n\n    this._changeState(authn.STATE_AUTHENTICATED, user, token);\n  }\n\n  handleCurrentInfoRequest({callback}) {\n    log.debug('got current info request');\n    if (callback) {\n      callback(this.store);\n    }\n  }\n\n  _updateStateFromStorage() {\n    log.debug('updating state from local storage');\n    const serialized = this.storageHandler.getSessionState(this.config.clientId);\n    if (!serialized) {\n      log.debug('no stored state');\n      this._changeState(authn.STATE_UNAUTHENTICATED);\n      return;\n    }\n    const {user, token} = deserializeSessionState(serialized);\n    if (!user || !token) {\n      log.debug('no stored user or token');\n      this._changeState(authn.STATE_UNAUTHENTICATED);\n    } else if (token.expiresAt > new Date()) {\n      log.debug('found an unexpired saved session');\n      this._changeState(authn.STATE_AUTHENTICATED, user, token);\n    } else {\n      log.debug('stored session was expired');\n      this._changeState(authn.STATE_UNAUTHENTICATED);\n    }\n  }\n\n  _maybeUpdateStoredSession(state, user, token) {\n    log.debugf('updating stored session: state=%s hasUser=%s, hasToken=%s', state, !!user, !!token);\n    if (state === authn.STATE_UNAUTHENTICATED || state === authn.STATE_REFRESHING || state === authn.STATE_EXPIRED) {\n      log.debug('state is unauthenticated or expired, clearing stored session');\n      this.storageHandler.clearSessionState(this.config.clientId);\n    } else if (!!user && !!token) {\n      log.debug('storing session', redactUser(user), redactToken(token));\n      const serialized = serializeSessionState(user, token);\n      this.storageHandler.saveSessionState(this.config.clientId, serialized);\n    }\n  }\n}\n\nfunction serializeSessionState(user, token) {\n  const grouped = groupClaimPrefixes(token.rawUserInfo);\n\n  const smallerUserInfo = {\n    ro: grouped[CLAIMS_PREFIX_RESOURCE_OWNER],\n    cl: grouped[CLAIMS_PREFIX_CLIENT],\n    wso2: grouped[CLAIMS_PREFIX_WSO2],\n    o: grouped.other,\n  };\n\n  return {\n    ui: smallerUserInfo,\n    at: token.bearer,\n    rf: token.refresh,\n    ah: token.authorizationHeader,\n    ea: token.expiresAt.getTime()\n  };\n}\n\nfunction deserializeSessionState(state) {\n  const groupedUserInfo = {\n    [CLAIMS_PREFIX_RESOURCE_OWNER]: state.ui.ro,\n    [CLAIMS_PREFIX_CLIENT]: state.ui.cl,\n    [CLAIMS_PREFIX_WSO2]: state.ui.wso2,\n    other: state.ui.o,\n  }\n  const userInfo = ungroupClaimPrefixes(groupedUserInfo);\n\n  const user = _processUserInfo(userInfo);\n  const expiresAt = new Date(state.ea);\n  const token = _processTokenInfo({ userInfo, accessToken: state.at, expiresAt, authHeader: `Bearer ${state.at}`, refreshToken: state.rf });\n  return {user, token};\n}\n\nfunction _listenTo(provider, event, listener) {\n  if (provider._listeners.hasOwnProperty(event)) {\n    throw new Error('A listener is already registered for ' + event);\n  }\n  const obs = provider._listeners[event] = function (e) {\n    listener.call(provider, e.detail);\n  }.bind(provider);\n\n  provider.document.addEventListener(event, obs, false);\n}\n\nfunction _unlistenTo(provider, event) {\n  if (!provider._listeners.hasOwnProperty(event)) {\n    return;\n  }\n\n  provider.document.removeEventListener(event, provider._listeners[event], false);\n  delete provider._listeners[event];\n}\n\n\nfunction _dispatchEvent(provider, name, detail) {\n  let event;\n  if (typeof provider.window.CustomEvent === 'function') {\n    event = new CustomEvent(name, {detail});\n  } else {\n    event = provider.document.createEvent('CustomEvent');\n    event.initCustomEvent(name, true, false, detail);\n  }\n  provider.document.dispatchEvent(event);\n}\n\nasync function _handleAuthenticationCallback(config, location, storage) {\n  const searchParams = new URLSearchParams(location.search);\n\n  const oauthCsrfToken = searchParams.get('state');\n  const storedState = storage.getOAuthState(config.clientId);\n\n  storage.clearOAuthState(config.clientId);\n\n  log.debug('checking oauth state token');\n  const pageState = _validateAndGetStoredState(storedState, oauthCsrfToken);\n  const tokenInfo = await _fetchTokenInfo(searchParams.get('code'), config, storedState.v)\n\n  const accessToken = tokenInfo.access_token;\n  const refreshToken = tokenInfo.refresh_token;\n  const expiresIn = tokenInfo.expires_in - EXPIRATION_BUFFER;\n  const expiresAt = new Date(Date.now() + (expiresIn * 1000));\n  const authHeader = `Bearer ${accessToken}`;\n  log.debug('got token', redactBearerToken(accessToken), 'which expires in', expiresIn, 'seconds');\n\n  const userInfo = await _fetchUserInfo(authHeader);\n\n  const user = _processUserInfo(userInfo);\n  const token = _processTokenInfo({ userInfo, accessToken, expiresAt, authHeader, refreshToken });\n\n  return {state: authn.STATE_AUTHENTICATED, user, token};\n}\n\n\nasync function _fetchTokenInfo(code, config, codeVerifier) {\n  log.debug('Exchanging code for token');\n  const tokenUrl = `${BASE_URL}/token`;\n  const body = new URLSearchParams();\n  body.set('grant_type', 'authorization_code');\n  body.set('client_id', config.clientId);\n  body.set('redirect_uri', config.callbackUrl);\n  body.set('code', code);\n  body.set('code_verifier', codeVerifier)\n\n  const resp = await fetch(tokenUrl, {\n    method: 'POST',\n    headers: new Headers({ 'Accept': 'application/json', 'Content-Type': 'application/x-www-form-urlencoded' }),\n    body\n  });\n\n  if (resp.status !== 200) {\n    const body = await resp.text();\n\n    log.error('Error getting OAuth User Info. Status Code:', resp.status, 'Response:\\n', body);\n    throw new OAuthError(\n      'unable-to-exchange-code-for-token',\n      'Unable to exchange code for token. Please try again.'\n    );\n  }\n\n  const json = await resp.json();\n  log.debug('successfully got user info', json);\n  return json;\n}\n\nasync function _fetchUserInfo(authHeader) {\n  const USER_INFO_URL = `${BASE_URL}/openid-userinfo/v1/userinfo?schema=openid`;\n  log.debug('fetching user info from', USER_INFO_URL);\n  const resp = await fetch(USER_INFO_URL, {\n    method: 'GET',\n    headers: new Headers({'Accept': 'application/json', 'Authorization': authHeader}),\n    mode: 'cors',\n  });\n\n  log.debug('got status', resp.status);\n\n  if (resp.status !== 200) {\n    const body = await resp.text();\n\n    if (resp.status === 403) {\n      log.debug('got forbidden error');\n      if (body.includes('<ams:code>900908</ams:code>')) {\n        log.debug('client app isn\\'t subscribed to OpenID UserInfo endpoint');\n        log.error(`DEVELOPER ERROR: You may not be subscribed to the OpenID UserInfo endpoint. Please visit https://api.byu.edu/store/apis/info?name=OpenID-Userinfo&version=v1&provider=BYU%2Fjmooreoa to subscribe.`);\n        throw new OAuthError(\n          'not-subscribed-to-user-info',\n          'This page has an authentication configuration error. Developers, see the console for details.'\n        );\n      } else {\n        log.error('invalid oauth bearer token');\n        throw new OAuthError(\n          'invalid-oauth-token',\n          'The provided authentication token is invalid. Please try again.'\n        );\n      }\n    }\n    log.error('Error getting OAuth User Info. Status Code:', resp.status, 'Response:\\n', body);\n    throw new OAuthError(\n      'unable-to-get-user-info',\n      'Unable to fetch user information. Please try again.'\n    );\n  }\n  const json = await resp.json();\n  log.debug('successfully got user info', json);\n  return json;\n}\n\nconst CLAIMS_PREFIX_RESOURCE_OWNER = 'http://byu.edu/claims/resourceowner_';\nconst CLAIMS_PREFIX_CLIENT = 'http://byu.edu/claims/client_';\nconst CLAIMS_PREFIX_WSO2 = 'http://wso2.org/claims/';\n\nconst CLAIMS_KNOWN_PREFIXES = [CLAIMS_PREFIX_CLIENT, CLAIMS_PREFIX_RESOURCE_OWNER, CLAIMS_PREFIX_WSO2];\n\nfunction groupClaimPrefixes(userInfo) {\n  const grouped = {\n    other: {}\n  };\n  for (const prefix of CLAIMS_KNOWN_PREFIXES) {\n    grouped[prefix] = {};\n  }\n  for (const key of Object.keys(userInfo)) {\n    const value = userInfo[key];\n    const prefix = CLAIMS_KNOWN_PREFIXES.find(it => key.startsWith(it));\n    if (prefix) {\n        grouped[prefix][key.substr(prefix.length)] = value;\n    } else {\n      grouped.other[key] = value;\n    }\n  }\n  return grouped;\n}\n\nfunction ungroupClaimPrefixes(grouped) {\n  const result = {};\n  for (const groupKey of CLAIMS_KNOWN_PREFIXES) {\n    const group = grouped[groupKey];\n    if (!group) continue;\n    for (const key of Object.keys(group)) {\n      result[groupKey + key] = group[key];\n    }\n  }\n  for (const other of Object.keys(grouped.other)) {\n    result[other] = grouped.other[other];\n  }\n  return result;\n}\n\nfunction getClaims(userInfo, prefix) {\n  return Object.keys(userInfo).filter(k => k.startsWith(prefix))\n    .reduce((agg, key) => {\n      agg[key.substr(prefix.length)] = userInfo[key];\n      return agg;\n    }, {});\n}\n\nfunction _processUserInfo(userInfo) {\n  const roClaims = getClaims(userInfo, CLAIMS_PREFIX_RESOURCE_OWNER);\n\n  const familyNamePosition = roClaims.surname_position;\n  const givenName = roClaims.preferred_first_name;\n  const familyName = roClaims.surname;\n\n  const displayName = familyNamePosition === 'F' ? `${familyName} ${givenName}` : `${givenName} ${familyName}`;\n\n  return {\n    personId: roClaims.person_id,\n    byuId: roClaims.byu_id,\n    netId: roClaims.net_id,\n    name: {\n      sortName: roClaims.sort_name,\n      displayName,\n      givenName,\n      familyName,\n      familyNamePosition,\n    },\n    rawUserInfo: userInfo\n  };\n}\n\nfunction _processTokenInfo({ userInfo, accessToken, expiresAt, authHeader, refreshToken }) {\n  const clientClaims = getClaims(userInfo, CLAIMS_PREFIX_CLIENT);\n  const wso2Claims = getClaims(userInfo, CLAIMS_PREFIX_WSO2);\n\n  return {\n    bearer: accessToken,\n    refresh: refreshToken,\n    authorizationHeader: authHeader,\n    expiresAt,\n    client: {\n      id: wso2Claims.client_id,\n      byuId: clientClaims.byu_id,\n      appName: wso2Claims.applicationname,\n    },\n    rawUserInfo: userInfo\n  };\n}\n\nfunction _validateAndGetStoredState(storedState, expectedCsrfToken) {\n  log.debug('validating stored state token. Expecting token', expectedCsrfToken, ', got state', storedState);\n  if (!storedState) {\n    log.error('no stored oauth login state');\n    throw new OAuthError('no-oauth-state', 'Your saved authentication information does not match. Please try again.');\n  }\n  const {e: stateExpiresString, c: storedCsrfToken, s: pageState} = storedState;\n\n  if (expectedCsrfToken !== storedCsrfToken) {\n    log.error('CSRF token mismatch')\n    throw new OAuthError(\n      'oauth-state-mismatch',\n      'Your saved authentication information does not match. Please try again.'\n    );\n  }\n\n  if (Number(stateExpiresString) < Date.now()) {\n    log.error('stored state has expired');\n    throw new OAuthError(\n      'oauth-state-expired',\n      'Your login attempt has timed out. Please try again.'\n    );\n  }\n\n  return pageState;\n}\n\nfunction _prepareStoredState(expires, csrfToken, codeVerifier, pageState) {\n  return {\n    e: expires,\n    c: csrfToken,\n    v: codeVerifier,\n    s: pageState,\n  }\n}\n\nclass OAuthError extends Error {\n  constructor(type, description, uri) {\n    super('OAuth Error: ' + description);\n    this.type = type;\n    this.description = description;\n    this.uri = uri;\n  }\n}\n\nconst allowableRandomChars = [...'0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz'];\nconst randomCharRangeConvert = allowableRandomChars.length / 2**8; // Using Uint8Array for getRandomValues\n\nfunction randomString(length) {\n  const randomArray = new Uint8Array(length || 24);\n  const crypto = window.crypto || window.msCrypto;\n  crypto.getRandomValues(randomArray);\n\n  return randomArray.reduce((str, cur) => str + allowableRandomChars[Math.floor(cur * randomCharRangeConvert)], '');\n}\n\nfunction logStateChange(state, user, token, error) {\n  const logParts = [\n    'state change:',\n    {\n      state,\n      user: redactUser(user),\n      token: token, //redactToken(token),\n      error: error\n    }\n  ];\n  if (error) {\n    log.error(...logParts);\n  } else {\n    log.info(...logParts);\n  }\n}\n\nfunction redactUser(u) {\n  if (!u) return undefined;\n  return {\n    netId: u.netId,\n    'rest-is-redacted': true\n  };\n}\n\nfunction redactToken(t) {\n  log.debug('redacting token', t);\n  if (!t) return undefined;\n  const {bearer, expiresAt, client} = t;\n  return {\n    bearer: redactBearerToken(bearer),\n    expiresAt: !!expiresAt ? expiresAt.toISOString() : null,\n    client,\n    'rest-is-redacted': true\n  }\n}\nfunction redactBearerToken(b) {\n  if (!b) return undefined;\n  return b.substring(0, 2) + '...redacted...' + b.substring(b.length - 2)\n}\n\nfunction ensureOnlyInstance(obj) {\n  if (SINGLETON_INSTANCE) {\n    const trace = SINGLETON_INSTANCE.___startupTrace;\n    throw new Error('There is already an instance of byu-oauth-implicit running!  Please call `#shutdown()` on that instance before starting a new one. Instance was started at:\\n' + trace);\n  }\n  obj.___startupTrace = new Error().stack;\n  SINGLETON_INSTANCE = obj;\n}\n\nfunction cleanupOnlyInstance(obj) {\n  SINGLETON_INSTANCE = null;\n}\n\nexport function __forceShutdown() {\n  if (SINGLETON_INSTANCE) {\n    SINGLETON_INSTANCE.shutdown();\n    cleanupOnlyInstance(SINGLETON_INSTANCE);\n  }\n}\n","/*\n * Copyright 2018 Brigham Young University\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { IG_STATE_AUTO_REFRESH_FAILED, ImplicitGrantProvider } from \"./provider.js\";\nexport { IG_STATE_AUTO_REFRESH_FAILED }\n\nexport const DEFAULT_ISSUER = 'https://api.byu.edu';\nexport const DEFAULT_BASE_URL = 'https://api.byu.edu';\n\nexport const GLOBAL_CONFIG_KEY = 'byu-oauth-implicit-config';\n\n/**\n * @typedef {} ImplicitConfig\n * @prop {string} clientId\n * @prop {?string} issuer\n * @prop {?string} baseUrl\n * @prop {?string} callbackUrl\n * @prop {?boolean} requireAuthentication\n */\n\n/**\n * @param {ImplicitConfig|ImplicitConfig[]|undefined} cfgOrRules\n * @param location\n */\nexport async function configure(cfgOrRules, location = window.location) {\n  const cfg = resolveConfig(cfgOrRules, location);\n  const globalConfig = window[GLOBAL_CONFIG_KEY];\n\n  const config = Object.assign({\n    issuer: DEFAULT_ISSUER,\n    baseUrl: DEFAULT_BASE_URL,\n    callbackUrl: `${location.origin}${location.pathname}`,\n    autoRefreshOnTimeout: false\n  }, globalConfig, cfg);\n\n  if (!config.clientId) {\n    throw new Error('clientId must be specified in config');\n  }\n  const provider = new ImplicitGrantProvider(config, window, document);\n\n  return provider.startup();\n}\n\nfunction resolveConfig(rules, location) {\n  if (!rules) {\n    return {};\n  }\n\n  if ('clientId' in rules) {\n    return rules;\n  }\n\n  const keys = Object.keys(rules)\n    .filter(it => it.startsWith('https://') || it.startsWith('http://'));\n\n  if (keys.length === 0) {\n    return rules;\n  }\n\n  const key = keys\n    // order by length of key (most specific), descending\n    .sort((a, b) => b.length - a.length)\n    .find(it => location.href.startsWith(it));\n  if (key) {\n    return Object.assign({ callbackUrl: key }, rules[key]);\n  }\n  throw new Error(`Unable to match url [${location.href}] to one of [${keys}]`)\n}\n","export const EVENT_PREFIX = 'byu-browser-oauth';\n\nexport const EVENT_STATE_CHANGE = `${EVENT_PREFIX}-state-changed`;\nexport const EVENT_LOGIN_REQUESTED = `${EVENT_PREFIX}-login-requested`;\nexport const EVENT_LOGOUT_REQUESTED = `${EVENT_PREFIX}-logout-requested`;\nexport const EVENT_REFRESH_REQUESTED = `${EVENT_PREFIX}-refresh-requested`;\nexport const EVENT_CURRENT_INFO_REQUESTED = `${EVENT_PREFIX}-current-info-requested`;\n\nexport const STATE_INDETERMINATE = 'indeterminate';\nexport const STATE_UNAUTHENTICATED = 'unauthenticated';\nexport const STATE_AUTHENTICATED = 'authenticated';\nexport const STATE_AUTHENTICATING = 'authenticating';\nexport const STATE_REFRESHING = 'refreshing';\nexport const STATE_EXPIRED = 'expired';\nexport const STATE_ERROR = 'error';\n\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nexports.hasCookies = hasCookies;\n\nvar _cookie = require('cookie');\n\nvar _cookie2 = _interopRequireDefault(_cookie);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar prefix = 'lS_';\n\nvar CookieStorage = function () {\n  function CookieStorage() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, CookieStorage);\n\n    this.cookieOptions = Object.assign({ path: '/' }, options);\n    prefix = options.prefix === undefined ? prefix : options.prefix;\n  }\n\n  _createClass(CookieStorage, [{\n    key: 'getItem',\n    value: function getItem(key) {\n      var cookies = _cookie2.default.parse(document.cookie);\n      if (!cookies || !cookies.hasOwnProperty(prefix + key)) {\n        return null;\n      }\n      return cookies[prefix + key];\n    }\n  }, {\n    key: 'setItem',\n    value: function setItem(key, value) {\n      document.cookie = _cookie2.default.serialize(prefix + key, value, this.cookieOptions);\n      return value;\n    }\n  }, {\n    key: 'removeItem',\n    value: function removeItem(key) {\n      var options = Object.assign({}, this.cookieOptions, { maxAge: -1 });\n      document.cookie = _cookie2.default.serialize(prefix + key, '', options);\n      return null;\n    }\n  }, {\n    key: 'clear',\n    value: function clear() {\n      var cookies = _cookie2.default.parse(document.cookie);\n      for (var key in cookies) {\n        if (key.indexOf(prefix) === 0) {\n          this.removeItem(key.substr(prefix.length));\n        }\n      }\n\n      return null;\n    }\n  }]);\n\n  return CookieStorage;\n}();\n\nexports.default = CookieStorage;\nfunction hasCookies() {\n  var storage = new CookieStorage();\n\n  try {\n    var TEST_KEY = '__test';\n    storage.setItem(TEST_KEY, '1');\n    var value = storage.getItem(TEST_KEY);\n    storage.removeItem(TEST_KEY);\n\n    return value === '1';\n  } catch (e) {\n    return false;\n  }\n}","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isSupported;\n\nvar _CookieStorage = require('./CookieStorage');\n\nvar TEST_KEY = '__test';\n\nfunction hasStorage(name) {\n  try {\n    var storage = window[name];\n    storage.setItem(TEST_KEY, '1');\n    storage.removeItem(TEST_KEY);\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction isSupported() {\n  var name = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'localStorage';\n\n  var storage = String(name).replace(/storage$/i, '').toLowerCase();\n\n  if (storage === 'local') {\n    return hasStorage('localStorage');\n  }\n\n  if (storage === 'session') {\n    return hasStorage('sessionStorage');\n  }\n\n  if (storage === 'cookie') {\n    return (0, _CookieStorage.hasCookies)();\n  }\n\n  if (storage === 'memory') {\n    return true;\n  }\n\n  throw new Error('Storage method `' + name + '` is not available.\\n    Please use one of the following: localStorage, sessionStorage, cookieStorage, memoryStorage.');\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar MemoryStorage = function () {\n  function MemoryStorage() {\n    _classCallCheck(this, MemoryStorage);\n\n    this._data = {};\n  }\n\n  _createClass(MemoryStorage, [{\n    key: \"getItem\",\n    value: function getItem(key) {\n      return this._data.hasOwnProperty(key) ? this._data[key] : null;\n    }\n  }, {\n    key: \"setItem\",\n    value: function setItem(key, value) {\n      return this._data[key] = String(value);\n    }\n  }, {\n    key: \"removeItem\",\n    value: function removeItem(key) {\n      return delete this._data[key];\n    }\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      return this._data = {};\n    }\n  }]);\n\n  return MemoryStorage;\n}();\n\nexports.default = MemoryStorage;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.MemoryStorage = exports.CookieStorage = exports.isSupported = exports.storage = undefined;\n\nvar _isSupported = require('./isSupported');\n\nvar _isSupported2 = _interopRequireDefault(_isSupported);\n\nvar _CookieStorage = require('./CookieStorage');\n\nvar _CookieStorage2 = _interopRequireDefault(_CookieStorage);\n\nvar _MemoryStorage = require('./MemoryStorage');\n\nvar _MemoryStorage2 = _interopRequireDefault(_MemoryStorage);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar storage = null;\n\nif ((0, _isSupported2.default)('localStorage')) {\n  // use localStorage\n  exports.storage = storage = window.localStorage;\n} else if ((0, _isSupported2.default)('sessionStorage')) {\n  // use sessionStorage\n  exports.storage = storage = window.sessionStorage;\n} else if ((0, _isSupported2.default)('cookieStorage')) {\n  // use cookies\n  exports.storage = storage = new _CookieStorage2.default();\n} else {\n  // use memory\n  exports.storage = storage = new _MemoryStorage2.default();\n}\n\nexports.default = storage;\nexports.storage = storage;\nexports.isSupported = _isSupported2.default;\nexports.CookieStorage = _CookieStorage2.default;\nexports.MemoryStorage = _MemoryStorage2.default;","/**\n * [js-sha256]{@link https://github.com/emn178/js-sha256}\n *\n * @version 0.9.0\n * @author Chen, Yi-Cyuan [emn178@gmail.com]\n * @copyright Chen, Yi-Cyuan 2014-2017\n * @license MIT\n */\n/*jslint bitwise: true */\n(function () {\n  'use strict';\n\n  var ERROR = 'input is invalid type';\n  var WINDOW = typeof window === 'object';\n  var root = WINDOW ? window : {};\n  if (root.JS_SHA256_NO_WINDOW) {\n    WINDOW = false;\n  }\n  var WEB_WORKER = !WINDOW && typeof self === 'object';\n  var NODE_JS = !root.JS_SHA256_NO_NODE_JS && typeof process === 'object' && process.versions && process.versions.node;\n  if (NODE_JS) {\n    root = global;\n  } else if (WEB_WORKER) {\n    root = self;\n  }\n  var COMMON_JS = !root.JS_SHA256_NO_COMMON_JS && typeof module === 'object' && module.exports;\n  var AMD = typeof define === 'function' && define.amd;\n  var ARRAY_BUFFER = !root.JS_SHA256_NO_ARRAY_BUFFER && typeof ArrayBuffer !== 'undefined';\n  var HEX_CHARS = '0123456789abcdef'.split('');\n  var EXTRA = [-2147483648, 8388608, 32768, 128];\n  var SHIFT = [24, 16, 8, 0];\n  var K = [\n    0x428a2f98, 0x71374491, 0xb5c0fbcf, 0xe9b5dba5, 0x3956c25b, 0x59f111f1, 0x923f82a4, 0xab1c5ed5,\n    0xd807aa98, 0x12835b01, 0x243185be, 0x550c7dc3, 0x72be5d74, 0x80deb1fe, 0x9bdc06a7, 0xc19bf174,\n    0xe49b69c1, 0xefbe4786, 0x0fc19dc6, 0x240ca1cc, 0x2de92c6f, 0x4a7484aa, 0x5cb0a9dc, 0x76f988da,\n    0x983e5152, 0xa831c66d, 0xb00327c8, 0xbf597fc7, 0xc6e00bf3, 0xd5a79147, 0x06ca6351, 0x14292967,\n    0x27b70a85, 0x2e1b2138, 0x4d2c6dfc, 0x53380d13, 0x650a7354, 0x766a0abb, 0x81c2c92e, 0x92722c85,\n    0xa2bfe8a1, 0xa81a664b, 0xc24b8b70, 0xc76c51a3, 0xd192e819, 0xd6990624, 0xf40e3585, 0x106aa070,\n    0x19a4c116, 0x1e376c08, 0x2748774c, 0x34b0bcb5, 0x391c0cb3, 0x4ed8aa4a, 0x5b9cca4f, 0x682e6ff3,\n    0x748f82ee, 0x78a5636f, 0x84c87814, 0x8cc70208, 0x90befffa, 0xa4506ceb, 0xbef9a3f7, 0xc67178f2\n  ];\n  var OUTPUT_TYPES = ['hex', 'array', 'digest', 'arrayBuffer'];\n\n  var blocks = [];\n\n  if (root.JS_SHA256_NO_NODE_JS || !Array.isArray) {\n    Array.isArray = function (obj) {\n      return Object.prototype.toString.call(obj) === '[object Array]';\n    };\n  }\n\n  if (ARRAY_BUFFER && (root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW || !ArrayBuffer.isView)) {\n    ArrayBuffer.isView = function (obj) {\n      return typeof obj === 'object' && obj.buffer && obj.buffer.constructor === ArrayBuffer;\n    };\n  }\n\n  var createOutputMethod = function (outputType, is224) {\n    return function (message) {\n      return new Sha256(is224, true).update(message)[outputType]();\n    };\n  };\n\n  var createMethod = function (is224) {\n    var method = createOutputMethod('hex', is224);\n    if (NODE_JS) {\n      method = nodeWrap(method, is224);\n    }\n    method.create = function () {\n      return new Sha256(is224);\n    };\n    method.update = function (message) {\n      return method.create().update(message);\n    };\n    for (var i = 0; i < OUTPUT_TYPES.length; ++i) {\n      var type = OUTPUT_TYPES[i];\n      method[type] = createOutputMethod(type, is224);\n    }\n    return method;\n  };\n\n  var nodeWrap = function (method, is224) {\n    var crypto = eval(\"require('crypto')\");\n    var Buffer = eval(\"require('buffer').Buffer\");\n    var algorithm = is224 ? 'sha224' : 'sha256';\n    var nodeMethod = function (message) {\n      if (typeof message === 'string') {\n        return crypto.createHash(algorithm).update(message, 'utf8').digest('hex');\n      } else {\n        if (message === null || message === undefined) {\n          throw new Error(ERROR);\n        } else if (message.constructor === ArrayBuffer) {\n          message = new Uint8Array(message);\n        }\n      }\n      if (Array.isArray(message) || ArrayBuffer.isView(message) ||\n        message.constructor === Buffer) {\n        return crypto.createHash(algorithm).update(new Buffer(message)).digest('hex');\n      } else {\n        return method(message);\n      }\n    };\n    return nodeMethod;\n  };\n\n  var createHmacOutputMethod = function (outputType, is224) {\n    return function (key, message) {\n      return new HmacSha256(key, is224, true).update(message)[outputType]();\n    };\n  };\n\n  var createHmacMethod = function (is224) {\n    var method = createHmacOutputMethod('hex', is224);\n    method.create = function (key) {\n      return new HmacSha256(key, is224);\n    };\n    method.update = function (key, message) {\n      return method.create(key).update(message);\n    };\n    for (var i = 0; i < OUTPUT_TYPES.length; ++i) {\n      var type = OUTPUT_TYPES[i];\n      method[type] = createHmacOutputMethod(type, is224);\n    }\n    return method;\n  };\n\n  function Sha256(is224, sharedMemory) {\n    if (sharedMemory) {\n      blocks[0] = blocks[16] = blocks[1] = blocks[2] = blocks[3] =\n        blocks[4] = blocks[5] = blocks[6] = blocks[7] =\n        blocks[8] = blocks[9] = blocks[10] = blocks[11] =\n        blocks[12] = blocks[13] = blocks[14] = blocks[15] = 0;\n      this.blocks = blocks;\n    } else {\n      this.blocks = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n    }\n\n    if (is224) {\n      this.h0 = 0xc1059ed8;\n      this.h1 = 0x367cd507;\n      this.h2 = 0x3070dd17;\n      this.h3 = 0xf70e5939;\n      this.h4 = 0xffc00b31;\n      this.h5 = 0x68581511;\n      this.h6 = 0x64f98fa7;\n      this.h7 = 0xbefa4fa4;\n    } else { // 256\n      this.h0 = 0x6a09e667;\n      this.h1 = 0xbb67ae85;\n      this.h2 = 0x3c6ef372;\n      this.h3 = 0xa54ff53a;\n      this.h4 = 0x510e527f;\n      this.h5 = 0x9b05688c;\n      this.h6 = 0x1f83d9ab;\n      this.h7 = 0x5be0cd19;\n    }\n\n    this.block = this.start = this.bytes = this.hBytes = 0;\n    this.finalized = this.hashed = false;\n    this.first = true;\n    this.is224 = is224;\n  }\n\n  Sha256.prototype.update = function (message) {\n    if (this.finalized) {\n      return;\n    }\n    var notString, type = typeof message;\n    if (type !== 'string') {\n      if (type === 'object') {\n        if (message === null) {\n          throw new Error(ERROR);\n        } else if (ARRAY_BUFFER && message.constructor === ArrayBuffer) {\n          message = new Uint8Array(message);\n        } else if (!Array.isArray(message)) {\n          if (!ARRAY_BUFFER || !ArrayBuffer.isView(message)) {\n            throw new Error(ERROR);\n          }\n        }\n      } else {\n        throw new Error(ERROR);\n      }\n      notString = true;\n    }\n    var code, index = 0, i, length = message.length, blocks = this.blocks;\n\n    while (index < length) {\n      if (this.hashed) {\n        this.hashed = false;\n        blocks[0] = this.block;\n        blocks[16] = blocks[1] = blocks[2] = blocks[3] =\n          blocks[4] = blocks[5] = blocks[6] = blocks[7] =\n          blocks[8] = blocks[9] = blocks[10] = blocks[11] =\n          blocks[12] = blocks[13] = blocks[14] = blocks[15] = 0;\n      }\n\n      if (notString) {\n        for (i = this.start; index < length && i < 64; ++index) {\n          blocks[i >> 2] |= message[index] << SHIFT[i++ & 3];\n        }\n      } else {\n        for (i = this.start; index < length && i < 64; ++index) {\n          code = message.charCodeAt(index);\n          if (code < 0x80) {\n            blocks[i >> 2] |= code << SHIFT[i++ & 3];\n          } else if (code < 0x800) {\n            blocks[i >> 2] |= (0xc0 | (code >> 6)) << SHIFT[i++ & 3];\n            blocks[i >> 2] |= (0x80 | (code & 0x3f)) << SHIFT[i++ & 3];\n          } else if (code < 0xd800 || code >= 0xe000) {\n            blocks[i >> 2] |= (0xe0 | (code >> 12)) << SHIFT[i++ & 3];\n            blocks[i >> 2] |= (0x80 | ((code >> 6) & 0x3f)) << SHIFT[i++ & 3];\n            blocks[i >> 2] |= (0x80 | (code & 0x3f)) << SHIFT[i++ & 3];\n          } else {\n            code = 0x10000 + (((code & 0x3ff) << 10) | (message.charCodeAt(++index) & 0x3ff));\n            blocks[i >> 2] |= (0xf0 | (code >> 18)) << SHIFT[i++ & 3];\n            blocks[i >> 2] |= (0x80 | ((code >> 12) & 0x3f)) << SHIFT[i++ & 3];\n            blocks[i >> 2] |= (0x80 | ((code >> 6) & 0x3f)) << SHIFT[i++ & 3];\n            blocks[i >> 2] |= (0x80 | (code & 0x3f)) << SHIFT[i++ & 3];\n          }\n        }\n      }\n\n      this.lastByteIndex = i;\n      this.bytes += i - this.start;\n      if (i >= 64) {\n        this.block = blocks[16];\n        this.start = i - 64;\n        this.hash();\n        this.hashed = true;\n      } else {\n        this.start = i;\n      }\n    }\n    if (this.bytes > 4294967295) {\n      this.hBytes += this.bytes / 4294967296 << 0;\n      this.bytes = this.bytes % 4294967296;\n    }\n    return this;\n  };\n\n  Sha256.prototype.finalize = function () {\n    if (this.finalized) {\n      return;\n    }\n    this.finalized = true;\n    var blocks = this.blocks, i = this.lastByteIndex;\n    blocks[16] = this.block;\n    blocks[i >> 2] |= EXTRA[i & 3];\n    this.block = blocks[16];\n    if (i >= 56) {\n      if (!this.hashed) {\n        this.hash();\n      }\n      blocks[0] = this.block;\n      blocks[16] = blocks[1] = blocks[2] = blocks[3] =\n        blocks[4] = blocks[5] = blocks[6] = blocks[7] =\n        blocks[8] = blocks[9] = blocks[10] = blocks[11] =\n        blocks[12] = blocks[13] = blocks[14] = blocks[15] = 0;\n    }\n    blocks[14] = this.hBytes << 3 | this.bytes >>> 29;\n    blocks[15] = this.bytes << 3;\n    this.hash();\n  };\n\n  Sha256.prototype.hash = function () {\n    var a = this.h0, b = this.h1, c = this.h2, d = this.h3, e = this.h4, f = this.h5, g = this.h6,\n      h = this.h7, blocks = this.blocks, j, s0, s1, maj, t1, t2, ch, ab, da, cd, bc;\n\n    for (j = 16; j < 64; ++j) {\n      // rightrotate\n      t1 = blocks[j - 15];\n      s0 = ((t1 >>> 7) | (t1 << 25)) ^ ((t1 >>> 18) | (t1 << 14)) ^ (t1 >>> 3);\n      t1 = blocks[j - 2];\n      s1 = ((t1 >>> 17) | (t1 << 15)) ^ ((t1 >>> 19) | (t1 << 13)) ^ (t1 >>> 10);\n      blocks[j] = blocks[j - 16] + s0 + blocks[j - 7] + s1 << 0;\n    }\n\n    bc = b & c;\n    for (j = 0; j < 64; j += 4) {\n      if (this.first) {\n        if (this.is224) {\n          ab = 300032;\n          t1 = blocks[0] - 1413257819;\n          h = t1 - 150054599 << 0;\n          d = t1 + 24177077 << 0;\n        } else {\n          ab = 704751109;\n          t1 = blocks[0] - 210244248;\n          h = t1 - 1521486534 << 0;\n          d = t1 + 143694565 << 0;\n        }\n        this.first = false;\n      } else {\n        s0 = ((a >>> 2) | (a << 30)) ^ ((a >>> 13) | (a << 19)) ^ ((a >>> 22) | (a << 10));\n        s1 = ((e >>> 6) | (e << 26)) ^ ((e >>> 11) | (e << 21)) ^ ((e >>> 25) | (e << 7));\n        ab = a & b;\n        maj = ab ^ (a & c) ^ bc;\n        ch = (e & f) ^ (~e & g);\n        t1 = h + s1 + ch + K[j] + blocks[j];\n        t2 = s0 + maj;\n        h = d + t1 << 0;\n        d = t1 + t2 << 0;\n      }\n      s0 = ((d >>> 2) | (d << 30)) ^ ((d >>> 13) | (d << 19)) ^ ((d >>> 22) | (d << 10));\n      s1 = ((h >>> 6) | (h << 26)) ^ ((h >>> 11) | (h << 21)) ^ ((h >>> 25) | (h << 7));\n      da = d & a;\n      maj = da ^ (d & b) ^ ab;\n      ch = (h & e) ^ (~h & f);\n      t1 = g + s1 + ch + K[j + 1] + blocks[j + 1];\n      t2 = s0 + maj;\n      g = c + t1 << 0;\n      c = t1 + t2 << 0;\n      s0 = ((c >>> 2) | (c << 30)) ^ ((c >>> 13) | (c << 19)) ^ ((c >>> 22) | (c << 10));\n      s1 = ((g >>> 6) | (g << 26)) ^ ((g >>> 11) | (g << 21)) ^ ((g >>> 25) | (g << 7));\n      cd = c & d;\n      maj = cd ^ (c & a) ^ da;\n      ch = (g & h) ^ (~g & e);\n      t1 = f + s1 + ch + K[j + 2] + blocks[j + 2];\n      t2 = s0 + maj;\n      f = b + t1 << 0;\n      b = t1 + t2 << 0;\n      s0 = ((b >>> 2) | (b << 30)) ^ ((b >>> 13) | (b << 19)) ^ ((b >>> 22) | (b << 10));\n      s1 = ((f >>> 6) | (f << 26)) ^ ((f >>> 11) | (f << 21)) ^ ((f >>> 25) | (f << 7));\n      bc = b & c;\n      maj = bc ^ (b & d) ^ cd;\n      ch = (f & g) ^ (~f & h);\n      t1 = e + s1 + ch + K[j + 3] + blocks[j + 3];\n      t2 = s0 + maj;\n      e = a + t1 << 0;\n      a = t1 + t2 << 0;\n    }\n\n    this.h0 = this.h0 + a << 0;\n    this.h1 = this.h1 + b << 0;\n    this.h2 = this.h2 + c << 0;\n    this.h3 = this.h3 + d << 0;\n    this.h4 = this.h4 + e << 0;\n    this.h5 = this.h5 + f << 0;\n    this.h6 = this.h6 + g << 0;\n    this.h7 = this.h7 + h << 0;\n  };\n\n  Sha256.prototype.hex = function () {\n    this.finalize();\n\n    var h0 = this.h0, h1 = this.h1, h2 = this.h2, h3 = this.h3, h4 = this.h4, h5 = this.h5,\n      h6 = this.h6, h7 = this.h7;\n\n    var hex = HEX_CHARS[(h0 >> 28) & 0x0F] + HEX_CHARS[(h0 >> 24) & 0x0F] +\n      HEX_CHARS[(h0 >> 20) & 0x0F] + HEX_CHARS[(h0 >> 16) & 0x0F] +\n      HEX_CHARS[(h0 >> 12) & 0x0F] + HEX_CHARS[(h0 >> 8) & 0x0F] +\n      HEX_CHARS[(h0 >> 4) & 0x0F] + HEX_CHARS[h0 & 0x0F] +\n      HEX_CHARS[(h1 >> 28) & 0x0F] + HEX_CHARS[(h1 >> 24) & 0x0F] +\n      HEX_CHARS[(h1 >> 20) & 0x0F] + HEX_CHARS[(h1 >> 16) & 0x0F] +\n      HEX_CHARS[(h1 >> 12) & 0x0F] + HEX_CHARS[(h1 >> 8) & 0x0F] +\n      HEX_CHARS[(h1 >> 4) & 0x0F] + HEX_CHARS[h1 & 0x0F] +\n      HEX_CHARS[(h2 >> 28) & 0x0F] + HEX_CHARS[(h2 >> 24) & 0x0F] +\n      HEX_CHARS[(h2 >> 20) & 0x0F] + HEX_CHARS[(h2 >> 16) & 0x0F] +\n      HEX_CHARS[(h2 >> 12) & 0x0F] + HEX_CHARS[(h2 >> 8) & 0x0F] +\n      HEX_CHARS[(h2 >> 4) & 0x0F] + HEX_CHARS[h2 & 0x0F] +\n      HEX_CHARS[(h3 >> 28) & 0x0F] + HEX_CHARS[(h3 >> 24) & 0x0F] +\n      HEX_CHARS[(h3 >> 20) & 0x0F] + HEX_CHARS[(h3 >> 16) & 0x0F] +\n      HEX_CHARS[(h3 >> 12) & 0x0F] + HEX_CHARS[(h3 >> 8) & 0x0F] +\n      HEX_CHARS[(h3 >> 4) & 0x0F] + HEX_CHARS[h3 & 0x0F] +\n      HEX_CHARS[(h4 >> 28) & 0x0F] + HEX_CHARS[(h4 >> 24) & 0x0F] +\n      HEX_CHARS[(h4 >> 20) & 0x0F] + HEX_CHARS[(h4 >> 16) & 0x0F] +\n      HEX_CHARS[(h4 >> 12) & 0x0F] + HEX_CHARS[(h4 >> 8) & 0x0F] +\n      HEX_CHARS[(h4 >> 4) & 0x0F] + HEX_CHARS[h4 & 0x0F] +\n      HEX_CHARS[(h5 >> 28) & 0x0F] + HEX_CHARS[(h5 >> 24) & 0x0F] +\n      HEX_CHARS[(h5 >> 20) & 0x0F] + HEX_CHARS[(h5 >> 16) & 0x0F] +\n      HEX_CHARS[(h5 >> 12) & 0x0F] + HEX_CHARS[(h5 >> 8) & 0x0F] +\n      HEX_CHARS[(h5 >> 4) & 0x0F] + HEX_CHARS[h5 & 0x0F] +\n      HEX_CHARS[(h6 >> 28) & 0x0F] + HEX_CHARS[(h6 >> 24) & 0x0F] +\n      HEX_CHARS[(h6 >> 20) & 0x0F] + HEX_CHARS[(h6 >> 16) & 0x0F] +\n      HEX_CHARS[(h6 >> 12) & 0x0F] + HEX_CHARS[(h6 >> 8) & 0x0F] +\n      HEX_CHARS[(h6 >> 4) & 0x0F] + HEX_CHARS[h6 & 0x0F];\n    if (!this.is224) {\n      hex += HEX_CHARS[(h7 >> 28) & 0x0F] + HEX_CHARS[(h7 >> 24) & 0x0F] +\n        HEX_CHARS[(h7 >> 20) & 0x0F] + HEX_CHARS[(h7 >> 16) & 0x0F] +\n        HEX_CHARS[(h7 >> 12) & 0x0F] + HEX_CHARS[(h7 >> 8) & 0x0F] +\n        HEX_CHARS[(h7 >> 4) & 0x0F] + HEX_CHARS[h7 & 0x0F];\n    }\n    return hex;\n  };\n\n  Sha256.prototype.toString = Sha256.prototype.hex;\n\n  Sha256.prototype.digest = function () {\n    this.finalize();\n\n    var h0 = this.h0, h1 = this.h1, h2 = this.h2, h3 = this.h3, h4 = this.h4, h5 = this.h5,\n      h6 = this.h6, h7 = this.h7;\n\n    var arr = [\n      (h0 >> 24) & 0xFF, (h0 >> 16) & 0xFF, (h0 >> 8) & 0xFF, h0 & 0xFF,\n      (h1 >> 24) & 0xFF, (h1 >> 16) & 0xFF, (h1 >> 8) & 0xFF, h1 & 0xFF,\n      (h2 >> 24) & 0xFF, (h2 >> 16) & 0xFF, (h2 >> 8) & 0xFF, h2 & 0xFF,\n      (h3 >> 24) & 0xFF, (h3 >> 16) & 0xFF, (h3 >> 8) & 0xFF, h3 & 0xFF,\n      (h4 >> 24) & 0xFF, (h4 >> 16) & 0xFF, (h4 >> 8) & 0xFF, h4 & 0xFF,\n      (h5 >> 24) & 0xFF, (h5 >> 16) & 0xFF, (h5 >> 8) & 0xFF, h5 & 0xFF,\n      (h6 >> 24) & 0xFF, (h6 >> 16) & 0xFF, (h6 >> 8) & 0xFF, h6 & 0xFF\n    ];\n    if (!this.is224) {\n      arr.push((h7 >> 24) & 0xFF, (h7 >> 16) & 0xFF, (h7 >> 8) & 0xFF, h7 & 0xFF);\n    }\n    return arr;\n  };\n\n  Sha256.prototype.array = Sha256.prototype.digest;\n\n  Sha256.prototype.arrayBuffer = function () {\n    this.finalize();\n\n    var buffer = new ArrayBuffer(this.is224 ? 28 : 32);\n    var dataView = new DataView(buffer);\n    dataView.setUint32(0, this.h0);\n    dataView.setUint32(4, this.h1);\n    dataView.setUint32(8, this.h2);\n    dataView.setUint32(12, this.h3);\n    dataView.setUint32(16, this.h4);\n    dataView.setUint32(20, this.h5);\n    dataView.setUint32(24, this.h6);\n    if (!this.is224) {\n      dataView.setUint32(28, this.h7);\n    }\n    return buffer;\n  };\n\n  function HmacSha256(key, is224, sharedMemory) {\n    var i, type = typeof key;\n    if (type === 'string') {\n      var bytes = [], length = key.length, index = 0, code;\n      for (i = 0; i < length; ++i) {\n        code = key.charCodeAt(i);\n        if (code < 0x80) {\n          bytes[index++] = code;\n        } else if (code < 0x800) {\n          bytes[index++] = (0xc0 | (code >> 6));\n          bytes[index++] = (0x80 | (code & 0x3f));\n        } else if (code < 0xd800 || code >= 0xe000) {\n          bytes[index++] = (0xe0 | (code >> 12));\n          bytes[index++] = (0x80 | ((code >> 6) & 0x3f));\n          bytes[index++] = (0x80 | (code & 0x3f));\n        } else {\n          code = 0x10000 + (((code & 0x3ff) << 10) | (key.charCodeAt(++i) & 0x3ff));\n          bytes[index++] = (0xf0 | (code >> 18));\n          bytes[index++] = (0x80 | ((code >> 12) & 0x3f));\n          bytes[index++] = (0x80 | ((code >> 6) & 0x3f));\n          bytes[index++] = (0x80 | (code & 0x3f));\n        }\n      }\n      key = bytes;\n    } else {\n      if (type === 'object') {\n        if (key === null) {\n          throw new Error(ERROR);\n        } else if (ARRAY_BUFFER && key.constructor === ArrayBuffer) {\n          key = new Uint8Array(key);\n        } else if (!Array.isArray(key)) {\n          if (!ARRAY_BUFFER || !ArrayBuffer.isView(key)) {\n            throw new Error(ERROR);\n          }\n        }\n      } else {\n        throw new Error(ERROR);\n      }\n    }\n\n    if (key.length > 64) {\n      key = (new Sha256(is224, true)).update(key).array();\n    }\n\n    var oKeyPad = [], iKeyPad = [];\n    for (i = 0; i < 64; ++i) {\n      var b = key[i] || 0;\n      oKeyPad[i] = 0x5c ^ b;\n      iKeyPad[i] = 0x36 ^ b;\n    }\n\n    Sha256.call(this, is224, sharedMemory);\n\n    this.update(iKeyPad);\n    this.oKeyPad = oKeyPad;\n    this.inner = true;\n    this.sharedMemory = sharedMemory;\n  }\n  HmacSha256.prototype = new Sha256();\n\n  HmacSha256.prototype.finalize = function () {\n    Sha256.prototype.finalize.call(this);\n    if (this.inner) {\n      this.inner = false;\n      var innerHash = this.array();\n      Sha256.call(this, this.is224, this.sharedMemory);\n      this.update(this.oKeyPad);\n      this.update(innerHash);\n      Sha256.prototype.finalize.call(this);\n    }\n  };\n\n  var exports = createMethod();\n  exports.sha256 = exports;\n  exports.sha224 = createMethod(true);\n  exports.sha256.hmac = createHmacMethod();\n  exports.sha224.hmac = createHmacMethod(true);\n\n  if (COMMON_JS) {\n    module.exports = exports;\n  } else {\n    root.sha256 = exports.sha256;\n    root.sha224 = exports.sha224;\n    if (AMD) {\n      define(function () {\n        return exports;\n      });\n    }\n  }\n})();\n"],"names":["Math","floor","debug","args","log","LEVEL_DEBUG","info","LEVEL_INFO","error","LEVEL_ERROR","debugf","format","logf","infof","level","shouldLog","run","name","getFormattedTime","now","Date","h24","String","getHours","padStart","min","getMinutes","sec","getSeconds","millis","getMilliseconds","formatTimezone","date","abs","offset","getTimezoneOffset","absOffset","hourInt","hourDone","sign","nonNegative","minDone","priority","currentLevel","levelAttr","levelGlobalVar","DEFAULT_LEVEL","lower","toLowerCase","ALL_LEVELS","find","l","document","documentElement","getAttribute","o","window","byuOAuth","logging","handleTrace","console","trace","handleDebug","handleInfo","handleError","parse","str","options","TypeError","obj","opt","pairs","split","pairSplitRegExp","dec","decode","i","length","pair","eq_idx","indexOf","key","substr","trim","val","slice","undefined","tryDecode","serialize","enc","encode","fieldContentRegExp","test","value","maxAge","isNaN","Error","domain","path","expires","toUTCString","httpOnly","secure","sameSite","e","getKey","clientId","encodeURIComponent","getSessionKey","serializeSessionState","user","token","grouped","groupClaimPrefixes","rawUserInfo","smallerUserInfo","ro","CLAIMS_PREFIX_RESOURCE_OWNER","cl","CLAIMS_PREFIX_CLIENT","wso2","CLAIMS_PREFIX_WSO2","other","ui","at","bearer","rf","refresh","ah","authorizationHeader","ea","expiresAt","getTime","deserializeSessionState","state","groupedUserInfo","userInfo","ungroupClaimPrefixes","_processUserInfo","_processTokenInfo","accessToken","authHeader","refreshToken","_listenTo","provider","event","listener","_listeners","hasOwnProperty","obs","call","detail","bind","addEventListener","_unlistenTo","removeEventListener","_dispatchEvent","CustomEvent","createEvent","initCustomEvent","dispatchEvent","_handleAuthenticationCallback","config","location","storage","searchParams","URLSearchParams","search","oauthCsrfToken","get","storedState","getOAuthState","clearOAuthState","pageState","_validateAndGetStoredState","tokenInfo","_fetchTokenInfo","v","access_token","refresh_token","expiresIn","expires_in","EXPIRATION_BUFFER","redactBearerToken","_fetchUserInfo","authn","code","codeVerifier","tokenUrl","BASE_URL","body","set","callbackUrl","resp","fetch","method","headers","Headers","status","text","OAuthError","json","USER_INFO_URL","mode","includes","prefix","CLAIMS_KNOWN_PREFIXES","Object","keys","it","startsWith","result","groupKey","group","getClaims","filter","k","reduce","agg","roClaims","familyNamePosition","surname_position","givenName","preferred_first_name","familyName","surname","displayName","personId","person_id","byuId","byu_id","netId","net_id","sortName","sort_name","clientClaims","wso2Claims","client","id","client_id","appName","applicationname","expectedCsrfToken","stateExpiresString","c","storedCsrfToken","s","Number","_prepareStoredState","csrfToken","randomString","randomArray","Uint8Array","crypto","msCrypto","getRandomValues","cur","allowableRandomChars","randomCharRangeConvert","logStateChange","logParts","redactUser","u","redactToken","t","toISOString","b","substring","ensureOnlyInstance","SINGLETON_INSTANCE","___startupTrace","stack","cleanupOnlyInstance","configure","cfgOrRules","cfg","resolveConfig","globalConfig","GLOBAL_CONFIG_KEY","assign","issuer","DEFAULT_ISSUER","baseUrl","DEFAULT_BASE_URL","origin","pathname","autoRefreshOnTimeout","ImplicitGrantProvider","startup","rules","sort","a","href","LEVEL_TRACE","EVENT_PREFIX","EVENT_STATE_CHANGE","EVENT_LOGIN_REQUESTED","EVENT_LOGOUT_REQUESTED","EVENT_REFRESH_REQUESTED","EVENT_CURRENT_INFO_REQUESTED","STATE_INDETERMINATE","STATE_UNAUTHENTICATED","STATE_AUTHENTICATED","STATE_AUTHENTICATING","STATE_REFRESHING","STATE_EXPIRED","STATE_ERROR","decodeURIComponent","_classCallCheck","instance","Constructor","defineProperty","exports","_createClass","defineProperties","target","props","descriptor","enumerable","configurable","writable","protoProps","staticProps","prototype","CookieStorage","setItem","getItem","removeItem","_cookie2","__esModule","default","_interopRequireDefault","_cookie","arguments","cookieOptions","cookies","cookie","hasStorage","replace","_CookieStorage","hasCookies","MemoryStorage","_data","_isSupported2","_isSupported","_CookieStorage2","_MemoryStorage2","_MemoryStorage","localStorage","sessionStorage","StorageHandler","saveOAuthState","JSON","stringify","saveSessionState","getSessionState","stored","clearSessionState","Sha256","is224","sharedMemory","blocks","h0","h1","h2","h3","h4","h5","h6","h7","block","start","bytes","hBytes","finalized","hashed","first","HmacSha256","type","index","charCodeAt","ARRAY_BUFFER","constructor","ArrayBuffer","Array","isArray","isView","update","array","oKeyPad","iKeyPad","inner","ERROR","WINDOW","root","JS_SHA256_NO_WINDOW","WEB_WORKER","self","NODE_JS","JS_SHA256_NO_NODE_JS","process","versions","node","global","COMMON_JS","JS_SHA256_NO_COMMON_JS","module","JS_SHA256_NO_ARRAY_BUFFER","HEX_CHARS","EXTRA","SHIFT","K","OUTPUT_TYPES","toString","JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW","buffer","createOutputMethod","outputType","message","createMethod","nodeWrap","create","eval","Buffer","algorithm","nodeMethod","createHash","digest","createHmacOutputMethod","createHmacMethod","notString","lastByteIndex","hash","finalize","j","s0","s1","maj","t1","t2","ch","ab","da","cd","bc","d","f","g","h","hex","arr","push","arrayBuffer","dataView","DataView","setUint32","innerHash","sha256","sha224","hmac","sha256Lib","CHILD_IFRAME_ID","STORED_STATE_LIFETIME","IG_STATE_AUTO_REFRESH_FAILED","storageHandler","store","freeze","_changeState","_checkPopupOpener","opener","URL","_checkIframeOpener","iframe","parent","getElementById","contentWindow","handleStateChange","source","close","parentNode","removeChild","_maybeUpdateStoredSession","_checkExpired","listen","_location","isAuthenticationCallback","err","hasStoredSession","_updateStateFromStorage","expirationTimeInMs","expiresInMs","__expirationTask","clearTimeout","setTimeout","_this","startRefresh","isCallbackUrl","hasCode","shutdown","unlisten","startLogin","startLogout","handleCurrentInfoRequest","displayType","fromCharCode","csrf","codeChallenge","btoa","loginUrl","open","createElement","onload","html","innerHTML","_this2","src","style","appendChild","logoutRedirect","casLogoutUrl","logoutUrl","callback","serialized","description","uri"],"mappings":"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"}